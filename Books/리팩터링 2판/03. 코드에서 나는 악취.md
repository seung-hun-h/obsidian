#### 기이한 이름
- 이름만 보고도 무슨 일을 하고 어떻게 사용할 지 알 수 있어야 한다
- 마땅한 이름이 떠오르지 않는다면 설계에 근본적인 문제가 있을 수 있다
- 기법
	- 함수 선언 바꾸기
	- 변수 이름 바꾸기
	- 필드 이름 바꾸기

#### 중복 코드
- 똑같은 코드 구조가 여러 곳에서 반복된다면 하나로 통합해야 한다
- 기법
	- 함수 추출하기
	- 문장 슬라이스하기: 비슷한 부분을 한 곳에 모아 함수 추출하기를 더 쉽게 적용할 수 있는 지 확인
	- 메서드 올리기

#### 긴 함수
- 긴 함수는 이해하기 어렵다
- 예전에는 함수내 서브 루틴 호출의 비용이 크지만 지금은 최적화되어 함수를 짧게 만드는 것이 좋다
- 기법
	- 함수 추출하기
	- 임시 변수를 질의 함수로 바꾸기: 임시 변수 줄이기
	- 매개변수 객체 만들기: 매개 변수 줄이기
	- 객체 통째로 넘기기: 매개 변수 줄이기
	- 함수를 명령으로 바꾸기
	- 조건문 분해하기
	- 함수 추출하기: 길어진 switch-case를 함수 호출로 바꾸기
	- 조건부 로직을 다형성으로 바꾸기
	- 반복문 쪼개기

#### 긴 매개변수 목록
- 매개변수가 길어지면 그 자체로 이해하기 어려울 때가 많다
- 기법
	- 매개변수를 질의 함수로 바꾸기
	- 객체 통째로 넘기기
	- 매개변수 객체 만들기
	- 플래그 인수 제거하기
	- 여러 함수를 클래스로 묶기
#### 전역 데이터
- 전역 데이터는 코드베이스 어디서든 접근과 변경이 가능해 버그가 발생하기 쉽다
- 기법
	- 변수 캡슐화하기

#### 가변 데이터
- 데이터를 변경하면 골치 아픈 버그로 이어질 수 있다
- 데이터를 변경하기 위해 변경 지점 전후 코드를 모두 살펴야한다
- 기법
	- 변수 캡슐화하기: 정해놓은 함수를 거쳐야만 데이터를 변경할 수 있도록 한다
	- 변수 쪼개기: 여러 용도를 지닌 변수 분리하기
	- 문장 슬라이스하기: 갱신 코드와 부작용이 없는 코드 분리하기
	- 함수 추출하기: 갱신 코드와 부작용이 없는 코드 분리하기
	- 질의 함수와 변경 함수 분리하기: API를 만들 때는 부작용이 있는 코드를 호출할 수 없게 한다
	- 세터 제거하기
#### 뒤엉킨 변경
- 하나의 모듈이 서로 다른 이유들로 인해 여러 가지 방식으로 변경되는 일이 많을 때 발생한다
- SRP 원칙을 지키지 않은 경우 많이 발생한다
- 응집도가 낮은 맥락을 분리한다
- 기법
	- 단계 쪼개기: 한 맥락에서 다음 맥락으로 넘어갈 때 특정한 데이터 구조에 필요한 데이터를 담아 전달한다
	- 함수 옮기기: 각기 다른 함수를 호출하는 빈도가 많으면 적당한 모듈을 만들어서 관련 함수를 모은다
	- 함수 추출하기: 여러 맥락의 일에 관여하는 함수가 많다면 함수를 먼저 추출한다
	- 클래스 추출하기: 모듈이 클래스라면 클래스 추출하기가 맥락별 분리 방법을 잘 안내해준다
#### 산탄총 수술
- 코드를 변경할 때 마다 자잘하게 수정해야 하는 클래스가 많은 경우
- 변경할 부분이 코드 전반에 퍼져있다면 찾기 어렵고 수정할 곳도 지나치게 많아진다
- 분산된 로직을 맥락으로 모은다
- 기법
	- 함수 옮기기
	- 필드 옮기기
	- 여러 함수를 클래스로 묶기
	- 여러 함수를 변환 함수로 묶기
	- 단계 쪼개기
	- 함수 인라인하기
	- 클래스 인라인하기

#### 기능 편애
- 어떤 함수가 자기가 속한 모듈의 함수 혹은 데이터보다 다른 모듈의 함수나 데이터와 상호작용하는 일이 더 많은 경우
- 기법
	- 함수 옮기기: 자주 호출되는 함수를 데이터 근처로 옮기기
	- 함수 추출하기: 일부에서만 기능을 편애하는 경우 함수로 추출하여 옮기기

#### 데이터 뭉치
- 몰려다니는 데이터는 함께 두어야 한다
- 기법
	- 클래스 추출하기: 데이터 뭉치를 찾아서 클래스로 만든다
	- 매개변수 객체 만들기
	- 객체 통째로 넘기기

#### 기본형 집착
- 금액, 물리량등 기초 타입으로 정의하기 힘든 타입을 기초 타입으로만 사용하는 경우
- 기법
	- 기본형을 객체로 바꾸기
	- 타입 코드를 서브 클래스로 바꾸기
	- 조건부 로직을 다형성으로 바꾸기
	- 클래스 추출하기
	- 매개변수 객체 만들기

#### 반복되는 switch문
- 중복되는 switch문은 조건절을 하나 씩 추가할 때마다 다른 switch문들도 수정해주어야 하므로 문제가 된다
- 기법
	- 조건부 로직을 다형성으로 바꾸기

#### 반복문
- 기법
	- 반복문을 파이프라인으로 바꾸기

#### 성의 없는 요소
- 프로그래밍 언어가 제공하는 요소(함수, 클래스, 인터페이스 등)를 무의미하게 사용하는 경우는 제거해주는 편이 좋다
- 기법
	- 함수 인라인하기
	- 클래스 인라인 하기
	- 계층 합치기: 불필요한 상속을 사용한 경우

#### 추측성 일반화
- 당장은 필요 없는 모든 종류의 후킹 포인트, 특이 케이스 처리 로직
- 실제로 사용하지 않는다면 제거하자
- 기법
	- 계층 합치기
	- 함수 인라인하기
	- 클래스 인라인하기
	- 함수 선언 바꾸기
	- 죽은 코드 제거하기
#### 임시 필드
- 특정 상황에만 값이 설정되는 필드가 있으면 필드가 존재하는 이유를 파악하게 만든다
- 객체를 가져올 때는 당연히 모든 객체각 채워져있으리라 생각한다
- 기법
	- 클래스 추출하기: 떨어져 있는 필드 모으기
	- 함수 옮기기: 임시 필드와 관련된 행동 옮기기
	- 특이 케이스 추가하기: 필드들이 유효하지 않을 때를 위한 대안 클래스를 만들어서 조건부 로직 제거

#### 메시지 체인
- 다른 객체를 요청하는 작업이 연쇄적으로 이어지는 코드를 말한다
	- `getSomething1().getSomething2().getSomething3()`
- 기법
	- 위임 숨기기: 최종 결과 객체가 어떻게 쓰이는지 확인 후 적용한다.
		  `A.getSomething1().getSomething2().getSomething3()` -> `A.getSomething3()`;
	- 함수 추출하기
	- 함수 옮기기

#### 중개자
- 객체의 대표적인 기능 중 하나, 외부로부터 세부사항을 숨겨주는 캡슐화
- 팀장에게 미팅을 요청하면 팀장은 자신의 일정을 확인후 답변한다. 팀장이 일정을 쓰든, 비서에게 말하든 세부사항은 상관없다
- 지나치면 문제가된다
- 기법
	- 중개자 제거하기: 클래스가 제공하는 메서드 중 절반이 다른 클래스에 위임하고 있다면 중개자를 제거하고 해당 객체와 직접 소통하도록 한다

#### 내부자 거래
- 모듈 사이의 데이터 거래가 많으면 결합도가 높다
- 모듈 사이의 데이터 거래는 최소로 줄이고 투명하게 처리해야 한다
- 기법
	- 함수 옮기기: 데이터를 주고 받는 모듈이 있는 경우
	- 필드 옮기기: 데이터를 주고 받는 모듈이 있는 경우
	- 위임 숨기기: 데이터 공유가 잦다면 다른 모듈이 중간자 역할
	- 서브 클래스를 위임으로 숨기기: 자식과 부모 클래스 분리
	- 슈퍼 클래스를 위임으로 숨기기: 자식과 부모 클래스 분리

#### 거대한 클래스
- 클래스의 필드가 너무 많다면 관련 있는 필드를 따로 묶어준다
- 코드가 너무 많은 클래스의 경우 중복된 코드는 작은 메서드로 분리한다
- 클라이언트가 어떻게 거대한 클래스를 사용하는지 확인해서 특정 기능 그룹만 사용한다면 분리한다
- 기법
	- 클래스 추출하기
	- 슈퍼 클래스 추출하기
	- 타입 코드를 서브 클래스로 바꾸기

#### 서로 다른 인터페이스의 대안 클래스들
- 어떤 클래스를 다른 클래스로 변경하려면 인터페이스가 같아야한다
- 먼저 메서드 시그니처를 일치시키고 함수 옮기기를 적용해 인터페이스가 같아질 때 까지 필요한 동작들을 클래스에 밀어 넣는다
- 기법
	- 함수 선언 바꾸기
	- 함수 옮기기
	- 슈퍼클래스 추출하기

#### 데이터 클래스
- 데이터 클래스는 데이터 필드와 게터/세터만 있는 클래스
- public 필드를 제거하고 변경이 불필요한 필드에 대해 세터를 제거한다
- 데이터 클래스를 사용하는 메서드를 찾아서 해당 메서드를 데이터 클래스로 옮길 수 없을지 확인해본다
- 기법
	- 레코드 캡슐화하기
	- 세터 제거하기
	- 함수 옮기기
	- 함수 추출하기

#### 상속 포기
- 서브 클래스가 부모 클래스의 동작은 필요로하지만 인터페이스는 따르고 싶지 않을 때 상속을 포기한다
- 기법
	- 서브 클래스를 위임으로 바꾸기
	- 슈퍼클래스를 위임으로 바꾸기

#### 주석
- 주석을 남겨야겠다는 생각이들면, 가장 먼저 주석이 필요 없는 코드로 리팩터링해본다
- 프로그래머에게 도움이되는 주석을 남기자
