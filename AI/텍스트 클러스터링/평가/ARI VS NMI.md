# ARI vs NMI: 클러스터링 평가의 두 가지 철학

## 핵심 정의
- **ARI**: 무작위 대비 완벽한 클러스터링에 가까운 정도 (쌍의 일치 관점)
- **NMI**: 정보에 기반하여 완벽한 클러스터에 가까운 정도 (정보 전달 관점)

## 철학적 차이
- **ARI는 "쌍의 일치"를 묻는다**: "올바른 사람들이 함께/따로 있는가?"
- **NMI는 "공유되는 정보"를 묻는다**: "클러스터가 얼마나 많은 정보를 전달하는가?"

## 계산 원리

### ARI (Adjusted Rand Index)
```
ARI = (실제점수 - 무작위점수) / (완벽점수 - 무작위점수)
```
- 혼동행렬 기반 (TP, FN, FP, TN)
- 모든 데이터 쌍의 분류 정확도 평가
- 무작위 기준선으로 조정

### NMI (Normalized Mutual Information)
```
NMI = [H(정답) - H(정답|클러스터)] / H(정답)
```
- 엔트로피/정보 이론 기반
- 불확실성 감소량 측정
- 최대 가능 정보량으로 정규화

## 그룹 크기 불균형의 영향

### ARI의 취약점
- 불균형 그룹에서 무작위 점수가 높아짐
- 같은 클러스터에 위치할 확률이 편향됨
- 실제 성능과 무작위 성능의 차이가 미미해짐

### NMI의 장점
- 불균형 그룹에서도 안정적
- 원래 불확실성이 낮으면 정보 획득이 명확히 측정됨
- 그룹 크기에 덜 민감함

## 실무 선택 가이드

### ARI를 선택하는 경우
- **균형잡힌 데이터**일 때
- **쌍별 관계**가 중요한 업무 (고객 혜택, 추천 시스템)
- **정밀한 분류**가 목표인 경우
- 예: "같은 그룹 고객에게 동일한 혜택 제공"

### NMI를 선택하는 경우
- **불균형 데이터**일 때  
- **정보 전달**이 목표인 업무 (토픽 모델링, 정보 검색)
- **큰 패턴 파악**이 중요한 경우
- 예: "각 클러스터가 어떤 특성을 공유하는가"

## 결과 패턴 해석

| ARI | NMI | 해석 |
|-----|-----|------|
| 높음 | 낮음 | 쌍 분류는 정확하나 정보 균형 문제. 큰 클러스터 내 다양성 부족 |
| 낮음 | 높음 | 큰 패턴은 잘 잡았으나 세부 배치 문제. 거시적 vs 미시적 정확도 |
| 높음 | 높음 | 우수한 클러스터링. 모든 관점에서 좋은 성능 |
| 낮음 | 낮음 | 전반적으로 부족한 클러스터링. 접근법 재검토 필요 |

## 비즈니스 적용 시나리오

### 고객 세분화
- **VIP vs 일반고객** (불균형) → NMI 중심
- **동등한 세그먼트** (균형) → ARI 중심

### 문서 분류
- **토픽 발견** → NMI (정보 공유 중요)
- **정확한 카테고리 분류** → ARI (쌍별 정확도 중요)

### 추천 시스템
- **취향 그룹 발견** → NMI (패턴 파악)
- **정밀 타겟팅** → ARI (정확한 매칭)

## 핵심 통찰
두 지표는 경쟁하는 것이 아니라 **서로 다른 질문에 답하는 보완적 도구**입니다. 
- ARI: "분류가 얼마나 정확한가?"
- NMI: "정보가 얼마나 잘 전달되는가?"

성공적인 클러스터링 평가는 비즈니스 목표에 따라 적절한 지표를 선택하고, 
두 관점을 모두 고려하여 균형잡힌 해석을 하는 것입니다.